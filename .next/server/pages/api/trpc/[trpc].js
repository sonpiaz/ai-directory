"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/trpc/[trpc]";
exports.ids = ["pages/api/trpc/[trpc]"];
exports.modules = {

/***/ "@next-auth/prisma-adapter":
/*!********************************************!*\
  !*** external "@next-auth/prisma-adapter" ***!
  \********************************************/
/***/ ((module) => {

module.exports = require("@next-auth/prisma-adapter");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next-auth":
/*!****************************!*\
  !*** external "next-auth" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next-auth");

/***/ }),

/***/ "next-auth/next":
/*!*********************************!*\
  !*** external "next-auth/next" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("next-auth/next");

/***/ }),

/***/ "next-auth/providers/credentials":
/*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/credentials");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "superjson":
/*!****************************!*\
  !*** external "superjson" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("superjson");

/***/ }),

/***/ "@trpc/server":
/*!*******************************!*\
  !*** external "@trpc/server" ***!
  \*******************************/
/***/ ((module) => {

module.exports = import("@trpc/server");;

/***/ }),

/***/ "@trpc/server/adapters/next":
/*!*********************************************!*\
  !*** external "@trpc/server/adapters/next" ***!
  \*********************************************/
/***/ ((module) => {

module.exports = import("@trpc/server/adapters/next");;

/***/ }),

/***/ "zod":
/*!**********************!*\
  !*** external "zod" ***!
  \**********************/
/***/ ((module) => {

module.exports = import("zod");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ftrpc%2F%5Btrpc%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Ftrpc%2F%5Btrpc%5D.ts&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ftrpc%2F%5Btrpc%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Ftrpc%2F%5Btrpc%5D.ts&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_trpc_trpc_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/trpc/[trpc].ts */ \"(api)/./pages/api/trpc/[trpc].ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_trpc_trpc_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_trpc_trpc_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// @ts-ignore this need to be imported from next/dist to be external\n\n\n\nconst PagesAPIRouteModule = next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule;\n// Import the userland code.\n// @ts-expect-error - replaced by webpack/turbopack loader\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_trpc_trpc_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_trpc_trpc_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/trpc/[trpc]\",\n        pathname: \"/api/trpc/[trpc]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_trpc_trpc_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnRycGMlMkYlNUJ0cnBjJTVEJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZ0cnBjJTJGJTVCdHJwYyU1RC50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUMwRjtBQUMzQjtBQUNMO0FBQzFELDRCQUE0QixnSEFBMEI7QUFDdEQ7QUFDQTtBQUN1RDtBQUN2RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsb0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLG9EQUFRO0FBQ3BDO0FBQ087QUFDUDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLWRpcmVjdG9yeS8/NGY3NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAdHMtaWdub3JlIHRoaXMgbmVlZCB0byBiZSBpbXBvcnRlZCBmcm9tIG5leHQvZGlzdCB0byBiZSBleHRlcm5hbFxuaW1wb3J0ICogYXMgbW9kdWxlIGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbmNvbnN0IFBhZ2VzQVBJUm91dGVNb2R1bGUgPSBtb2R1bGUuUGFnZXNBUElSb3V0ZU1vZHVsZTtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbi8vIEB0cy1leHBlY3QtZXJyb3IgLSByZXBsYWNlZCBieSB3ZWJwYWNrL3R1cmJvcGFjayBsb2FkZXJcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS90cnBjL1t0cnBjXS50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3RycGMvW3RycGNdXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdHJwYy9bdHJwY11cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ftrpc%2F%5Btrpc%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Ftrpc%2F%5Btrpc%5D.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/auth/[...nextauth].ts":
/*!*****************************************!*\
  !*** ./pages/api/auth/[...nextauth].ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ADMIN_ROLE: () => (/* binding */ ADMIN_ROLE),\n/* harmony export */   USER_ROLE: () => (/* binding */ USER_ROLE),\n/* harmony export */   authOptions: () => (/* binding */ authOptions),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerAuthSession: () => (/* binding */ getServerAuthSession)\n/* harmony export */ });\n/* harmony import */ var _next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @next-auth/prisma-adapter */ \"@next-auth/prisma-adapter\");\n/* harmony import */ var _next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth */ \"next-auth\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/credentials */ \"next-auth/providers/credentials\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _server_db__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../server/db */ \"(api)/./server/db.ts\");\n\n\n\n\n\n// Định nghĩa các role constants\nconst USER_ROLE = \"USER\";\nconst ADMIN_ROLE = \"ADMIN\";\n/**\n * Cấu hình NextAuth\n */ const authOptions = {\n    callbacks: {\n        session: ({ session, user })=>({\n                ...session,\n                user: {\n                    ...session.user,\n                    id: user.id,\n                    role: user.role\n                }\n            }),\n        jwt: ({ token, user })=>{\n            if (user) {\n                token.id = user.id;\n                token.role = user.role;\n            }\n            return token;\n        }\n    },\n    adapter: (0,_next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__.PrismaAdapter)(_server_db__WEBPACK_IMPORTED_MODULE_3__.prisma),\n    providers: [\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2___default()({\n            name: \"Credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"text\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                // Đơn giản hóa xác thực để demo\n                if (credentials?.email === \"admin@example.com\") {\n                    return {\n                        id: \"admin-id\",\n                        email: \"admin@example.com\",\n                        name: \"Admin User\",\n                        role: ADMIN_ROLE\n                    };\n                }\n                if (credentials?.email === \"user@example.com\") {\n                    return {\n                        id: \"user-id\",\n                        email: \"user@example.com\",\n                        name: \"Regular User\",\n                        role: USER_ROLE\n                    };\n                }\n                return null;\n            }\n        })\n    ],\n    pages: {\n        signIn: \"/auth/signin\"\n    },\n    session: {\n        strategy: \"jwt\"\n    },\n    secret: process.env.NEXTAUTH_SECRET || \"my-secret\"\n};\n/**\n * Helper để lấy session từ server-side\n */ const getServerAuthSession = (ctx)=>{\n    return (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(ctx.req, ctx.res, authOptions);\n};\n// Thêm export default để NextAuth hoạt động\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (next_auth__WEBPACK_IMPORTED_MODULE_1___default()(authOptions));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUEwRDtBQU12QztBQUMrQztBQUNqQztBQUNXO0FBRTVDLGdDQUFnQztBQUN6QixNQUFNSyxZQUFZLE9BQU87QUFDekIsTUFBTUMsYUFBYSxRQUFRO0FBa0JsQzs7Q0FFQyxHQUNNLE1BQU1DLGNBQStCO0lBQzFDQyxXQUFXO1FBQ1RDLFNBQVMsQ0FBQyxFQUFFQSxPQUFPLEVBQUVDLElBQUksRUFBRSxHQUFNO2dCQUMvQixHQUFHRCxPQUFPO2dCQUNWQyxNQUFNO29CQUNKLEdBQUdELFFBQVFDLElBQUk7b0JBQ2ZDLElBQUlELEtBQUtDLEVBQUU7b0JBQ1hDLE1BQU1GLEtBQUtFLElBQUk7Z0JBQ2pCO1lBQ0Y7UUFDQUMsS0FBSyxDQUFDLEVBQUVDLEtBQUssRUFBRUosSUFBSSxFQUFFO1lBQ25CLElBQUlBLE1BQU07Z0JBQ1JJLE1BQU1ILEVBQUUsR0FBR0QsS0FBS0MsRUFBRTtnQkFDbEJHLE1BQU1GLElBQUksR0FBR0YsS0FBS0UsSUFBSTtZQUN4QjtZQUNBLE9BQU9FO1FBQ1Q7SUFDRjtJQUNBQyxTQUFTZix3RUFBYUEsQ0FBQ0ksOENBQU1BO0lBQzdCWSxXQUFXO1FBQ1RkLHNFQUFtQkEsQ0FBQztZQUNsQmUsTUFBTTtZQUNOQyxhQUFhO2dCQUNYQyxPQUFPO29CQUFFQyxPQUFPO29CQUFTQyxNQUFNO2dCQUFPO2dCQUN0Q0MsVUFBVTtvQkFBRUYsT0FBTztvQkFBWUMsTUFBTTtnQkFBVztZQUNsRDtZQUNBLE1BQU1FLFdBQVVMLFdBQVc7Z0JBQ3pCLGdDQUFnQztnQkFDaEMsSUFBSUEsYUFBYUMsVUFBVSxxQkFBcUI7b0JBQzlDLE9BQU87d0JBQ0xSLElBQUk7d0JBQ0pRLE9BQU87d0JBQ1BGLE1BQU07d0JBQ05MLE1BQU1OO29CQUNSO2dCQUNGO2dCQUVBLElBQUlZLGFBQWFDLFVBQVUsb0JBQW9CO29CQUM3QyxPQUFPO3dCQUNMUixJQUFJO3dCQUNKUSxPQUFPO3dCQUNQRixNQUFNO3dCQUNOTCxNQUFNUDtvQkFDUjtnQkFDRjtnQkFFQSxPQUFPO1lBQ1Q7UUFDRjtLQUNEO0lBQ0RtQixPQUFPO1FBQ0xDLFFBQVE7SUFDVjtJQUNBaEIsU0FBUztRQUNQaUIsVUFBVTtJQUNaO0lBQ0FDLFFBQVFDLFFBQVFDLEdBQUcsQ0FBQ0MsZUFBZSxJQUFJO0FBQ3pDLEVBQUU7QUFFRjs7Q0FFQyxHQUNNLE1BQU1DLHVCQUF1QixDQUFDQztJQUluQyxPQUFPL0IsMkRBQWdCQSxDQUFDK0IsSUFBSUMsR0FBRyxFQUFFRCxJQUFJRSxHQUFHLEVBQUUzQjtBQUM1QyxFQUFFO0FBRUYsNENBQTRDO0FBQzVDLGlFQUFlSixnREFBUUEsQ0FBQ0ksWUFBWUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLWRpcmVjdG9yeS8uL3BhZ2VzL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0udHM/MmU4YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFBZGFwdGVyIH0gZnJvbSBcIkBuZXh0LWF1dGgvcHJpc21hLWFkYXB0ZXJcIjtcbmltcG9ydCB7IHR5cGUgR2V0U2VydmVyU2lkZVByb3BzQ29udGV4dCB9IGZyb20gXCJuZXh0XCI7XG5pbXBvcnQge1xuICBnZXRTZXJ2ZXJTZXNzaW9uLFxuICB0eXBlIE5leHRBdXRoT3B0aW9ucyxcbiAgdHlwZSBEZWZhdWx0U2Vzc2lvbixcbn0gZnJvbSBcIm5leHQtYXV0aFwiO1xuaW1wb3J0IENyZWRlbnRpYWxzUHJvdmlkZXIgZnJvbSBcIm5leHQtYXV0aC9wcm92aWRlcnMvY3JlZGVudGlhbHNcIjtcbmltcG9ydCBOZXh0QXV0aCBmcm9tIFwibmV4dC1hdXRoXCI7XG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiLi4vLi4vLi4vc2VydmVyL2RiXCI7XG5cbi8vIMSQ4buLbmggbmdoxKlhIGPDoWMgcm9sZSBjb25zdGFudHNcbmV4cG9ydCBjb25zdCBVU0VSX1JPTEUgPSBcIlVTRVJcIjtcbmV4cG9ydCBjb25zdCBBRE1JTl9ST0xFID0gXCJBRE1JTlwiO1xuXG4vKipcbiAqIE3hu58gcuG7mW5nIGxv4bqhaSBVc2VyIHRyb25nIHNlc3Npb24gY+G7p2EgbmV4dC1hdXRoXG4gKi9cbmRlY2xhcmUgbW9kdWxlIFwibmV4dC1hdXRoXCIge1xuICBpbnRlcmZhY2UgU2Vzc2lvbiBleHRlbmRzIERlZmF1bHRTZXNzaW9uIHtcbiAgICB1c2VyOiB7XG4gICAgICBpZDogc3RyaW5nO1xuICAgICAgcm9sZTogc3RyaW5nO1xuICAgIH0gJiBEZWZhdWx0U2Vzc2lvbltcInVzZXJcIl07XG4gIH1cblxuICBpbnRlcmZhY2UgVXNlciB7XG4gICAgcm9sZTogc3RyaW5nO1xuICB9XG59XG5cbi8qKlxuICogQ+G6pXUgaMOsbmggTmV4dEF1dGhcbiAqL1xuZXhwb3J0IGNvbnN0IGF1dGhPcHRpb25zOiBOZXh0QXV0aE9wdGlvbnMgPSB7XG4gIGNhbGxiYWNrczoge1xuICAgIHNlc3Npb246ICh7IHNlc3Npb24sIHVzZXIgfSkgPT4gKHtcbiAgICAgIC4uLnNlc3Npb24sXG4gICAgICB1c2VyOiB7XG4gICAgICAgIC4uLnNlc3Npb24udXNlcixcbiAgICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICAgIHJvbGU6IHVzZXIucm9sZSxcbiAgICAgIH0sXG4gICAgfSksXG4gICAgand0OiAoeyB0b2tlbiwgdXNlciB9KSA9PiB7XG4gICAgICBpZiAodXNlcikge1xuICAgICAgICB0b2tlbi5pZCA9IHVzZXIuaWQ7XG4gICAgICAgIHRva2VuLnJvbGUgPSB1c2VyLnJvbGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG9rZW47XG4gICAgfSxcbiAgfSxcbiAgYWRhcHRlcjogUHJpc21hQWRhcHRlcihwcmlzbWEpLFxuICBwcm92aWRlcnM6IFtcbiAgICBDcmVkZW50aWFsc1Byb3ZpZGVyKHtcbiAgICAgIG5hbWU6IFwiQ3JlZGVudGlhbHNcIixcbiAgICAgIGNyZWRlbnRpYWxzOiB7XG4gICAgICAgIGVtYWlsOiB7IGxhYmVsOiBcIkVtYWlsXCIsIHR5cGU6IFwidGV4dFwiIH0sXG4gICAgICAgIHBhc3N3b3JkOiB7IGxhYmVsOiBcIlBhc3N3b3JkXCIsIHR5cGU6IFwicGFzc3dvcmRcIiB9LFxuICAgICAgfSxcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xuICAgICAgICAvLyDEkMahbiBnaeG6o24gaMOzYSB4w6FjIHRo4buxYyDEkeG7gyBkZW1vXG4gICAgICAgIGlmIChjcmVkZW50aWFscz8uZW1haWwgPT09IFwiYWRtaW5AZXhhbXBsZS5jb21cIikge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogXCJhZG1pbi1pZFwiLFxuICAgICAgICAgICAgZW1haWw6IFwiYWRtaW5AZXhhbXBsZS5jb21cIixcbiAgICAgICAgICAgIG5hbWU6IFwiQWRtaW4gVXNlclwiLFxuICAgICAgICAgICAgcm9sZTogQURNSU5fUk9MRSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNyZWRlbnRpYWxzPy5lbWFpbCA9PT0gXCJ1c2VyQGV4YW1wbGUuY29tXCIpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IFwidXNlci1pZFwiLFxuICAgICAgICAgICAgZW1haWw6IFwidXNlckBleGFtcGxlLmNvbVwiLFxuICAgICAgICAgICAgbmFtZTogXCJSZWd1bGFyIFVzZXJcIixcbiAgICAgICAgICAgIHJvbGU6IFVTRVJfUk9MRSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9LFxuICAgIH0pLFxuICBdLFxuICBwYWdlczoge1xuICAgIHNpZ25JbjogXCIvYXV0aC9zaWduaW5cIixcbiAgfSxcbiAgc2Vzc2lvbjoge1xuICAgIHN0cmF0ZWd5OiBcImp3dFwiLFxuICB9LFxuICBzZWNyZXQ6IHByb2Nlc3MuZW52Lk5FWFRBVVRIX1NFQ1JFVCB8fCBcIm15LXNlY3JldFwiLFxufTtcblxuLyoqXG4gKiBIZWxwZXIgxJHhu4MgbOG6pXkgc2Vzc2lvbiB04burIHNlcnZlci1zaWRlXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRTZXJ2ZXJBdXRoU2Vzc2lvbiA9IChjdHg6IHtcbiAgcmVxOiBHZXRTZXJ2ZXJTaWRlUHJvcHNDb250ZXh0W1wicmVxXCJdO1xuICByZXM6IEdldFNlcnZlclNpZGVQcm9wc0NvbnRleHRbXCJyZXNcIl07XG59KSA9PiB7XG4gIHJldHVybiBnZXRTZXJ2ZXJTZXNzaW9uKGN0eC5yZXEsIGN0eC5yZXMsIGF1dGhPcHRpb25zKTtcbn07XG5cbi8vIFRow6ptIGV4cG9ydCBkZWZhdWx0IMSR4buDIE5leHRBdXRoIGhv4bqhdCDEkeG7mW5nXG5leHBvcnQgZGVmYXVsdCBOZXh0QXV0aChhdXRoT3B0aW9ucyk7ICJdLCJuYW1lcyI6WyJQcmlzbWFBZGFwdGVyIiwiZ2V0U2VydmVyU2Vzc2lvbiIsIkNyZWRlbnRpYWxzUHJvdmlkZXIiLCJOZXh0QXV0aCIsInByaXNtYSIsIlVTRVJfUk9MRSIsIkFETUlOX1JPTEUiLCJhdXRoT3B0aW9ucyIsImNhbGxiYWNrcyIsInNlc3Npb24iLCJ1c2VyIiwiaWQiLCJyb2xlIiwiand0IiwidG9rZW4iLCJhZGFwdGVyIiwicHJvdmlkZXJzIiwibmFtZSIsImNyZWRlbnRpYWxzIiwiZW1haWwiLCJsYWJlbCIsInR5cGUiLCJwYXNzd29yZCIsImF1dGhvcml6ZSIsInBhZ2VzIiwic2lnbkluIiwic3RyYXRlZ3kiLCJzZWNyZXQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVEFVVEhfU0VDUkVUIiwiZ2V0U2VydmVyQXV0aFNlc3Npb24iLCJjdHgiLCJyZXEiLCJyZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/auth/[...nextauth].ts\n");

/***/ }),

/***/ "(api)/./pages/api/trpc/[trpc].ts":
/*!**********************************!*\
  !*** ./pages/api/trpc/[trpc].ts ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _trpc_server_adapters_next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/server/adapters/next */ \"@trpc/server/adapters/next\");\n/* harmony import */ var _server_api_root__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../server/api/root */ \"(api)/./server/api/root.ts\");\n/* harmony import */ var _server_api_trpc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../server/api/trpc */ \"(api)/./server/api/trpc.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_trpc_server_adapters_next__WEBPACK_IMPORTED_MODULE_0__, _server_api_root__WEBPACK_IMPORTED_MODULE_1__, _server_api_trpc__WEBPACK_IMPORTED_MODULE_2__]);\n([_trpc_server_adapters_next__WEBPACK_IMPORTED_MODULE_0__, _server_api_root__WEBPACK_IMPORTED_MODULE_1__, _server_api_trpc__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n// Export API handler\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_trpc_server_adapters_next__WEBPACK_IMPORTED_MODULE_0__.createNextApiHandler)({\n    router: _server_api_root__WEBPACK_IMPORTED_MODULE_1__.appRouter,\n    createContext: _server_api_trpc__WEBPACK_IMPORTED_MODULE_2__.createTRPCContext\n}));\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvdHJwYy9bdHJwY10udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFrRTtBQUNiO0FBQ1E7QUFFN0QscUJBQXFCO0FBQ3JCLGlFQUFlQSxnRkFBb0JBLENBQUM7SUFDbENHLFFBQVFGLHVEQUFTQTtJQUNqQkcsZUFBZUYsK0RBQWlCQTtBQUNsQyxFQUFFLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS1kaXJlY3RvcnkvLi9wYWdlcy9hcGkvdHJwYy9bdHJwY10udHM/MmU0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVOZXh0QXBpSGFuZGxlciB9IGZyb20gXCJAdHJwYy9zZXJ2ZXIvYWRhcHRlcnMvbmV4dFwiO1xuaW1wb3J0IHsgYXBwUm91dGVyIH0gZnJvbSBcIi4uLy4uLy4uL3NlcnZlci9hcGkvcm9vdFwiO1xuaW1wb3J0IHsgY3JlYXRlVFJQQ0NvbnRleHQgfSBmcm9tIFwiLi4vLi4vLi4vc2VydmVyL2FwaS90cnBjXCI7XG5cbi8vIEV4cG9ydCBBUEkgaGFuZGxlclxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlTmV4dEFwaUhhbmRsZXIoe1xuICByb3V0ZXI6IGFwcFJvdXRlcixcbiAgY3JlYXRlQ29udGV4dDogY3JlYXRlVFJQQ0NvbnRleHQsXG59KTsgIl0sIm5hbWVzIjpbImNyZWF0ZU5leHRBcGlIYW5kbGVyIiwiYXBwUm91dGVyIiwiY3JlYXRlVFJQQ0NvbnRleHQiLCJyb3V0ZXIiLCJjcmVhdGVDb250ZXh0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/trpc/[trpc].ts\n");

/***/ }),

/***/ "(api)/./server/api/root.ts":
/*!****************************!*\
  !*** ./server/api/root.ts ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   appRouter: () => (/* binding */ appRouter)\n/* harmony export */ });\n/* harmony import */ var _trpc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./trpc */ \"(api)/./server/api/trpc.ts\");\n/* harmony import */ var _routers_aiTool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./routers/aiTool */ \"(api)/./server/api/routers/aiTool.ts\");\n/* harmony import */ var _routers_category__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./routers/category */ \"(api)/./server/api/routers/category.ts\");\n/* harmony import */ var _routers_useCase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./routers/useCase */ \"(api)/./server/api/routers/useCase.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_trpc__WEBPACK_IMPORTED_MODULE_0__, _routers_aiTool__WEBPACK_IMPORTED_MODULE_1__, _routers_category__WEBPACK_IMPORTED_MODULE_2__, _routers_useCase__WEBPACK_IMPORTED_MODULE_3__]);\n([_trpc__WEBPACK_IMPORTED_MODULE_0__, _routers_aiTool__WEBPACK_IMPORTED_MODULE_1__, _routers_category__WEBPACK_IMPORTED_MODULE_2__, _routers_useCase__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n/**\n * Router chính, bao gồm các router con\n */ const appRouter = (0,_trpc__WEBPACK_IMPORTED_MODULE_0__.createTRPCRouter)({\n    aiTool: _routers_aiTool__WEBPACK_IMPORTED_MODULE_1__.aiToolRouter,\n    category: _routers_category__WEBPACK_IMPORTED_MODULE_2__.categoryRouter,\n    useCase: _routers_useCase__WEBPACK_IMPORTED_MODULE_3__.useCaseRouter\n});\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2ZXIvYXBpL3Jvb3QudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBMEM7QUFDTTtBQUNJO0FBQ0Y7QUFFbEQ7O0NBRUMsR0FDTSxNQUFNSSxZQUFZSix1REFBZ0JBLENBQUM7SUFDeENLLFFBQVFKLHlEQUFZQTtJQUNwQkssVUFBVUosNkRBQWNBO0lBQ3hCSyxTQUFTSiwyREFBYUE7QUFDeEIsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLWRpcmVjdG9yeS8uL3NlcnZlci9hcGkvcm9vdC50cz9hMDQzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVRSUENSb3V0ZXIgfSBmcm9tIFwiLi90cnBjXCI7XG5pbXBvcnQgeyBhaVRvb2xSb3V0ZXIgfSBmcm9tIFwiLi9yb3V0ZXJzL2FpVG9vbFwiO1xuaW1wb3J0IHsgY2F0ZWdvcnlSb3V0ZXIgfSBmcm9tIFwiLi9yb3V0ZXJzL2NhdGVnb3J5XCI7XG5pbXBvcnQgeyB1c2VDYXNlUm91dGVyIH0gZnJvbSBcIi4vcm91dGVycy91c2VDYXNlXCI7XG5cbi8qKlxuICogUm91dGVyIGNow61uaCwgYmFvIGfhu5NtIGPDoWMgcm91dGVyIGNvblxuICovXG5leHBvcnQgY29uc3QgYXBwUm91dGVyID0gY3JlYXRlVFJQQ1JvdXRlcih7XG4gIGFpVG9vbDogYWlUb29sUm91dGVyLFxuICBjYXRlZ29yeTogY2F0ZWdvcnlSb3V0ZXIsXG4gIHVzZUNhc2U6IHVzZUNhc2VSb3V0ZXIsXG59KTtcblxuLy8gxJDhu4tuaCBuZ2jEqWEga2nhu4N1IGThu68gbGnhu4d1IGNobyBjbGllbnRcbmV4cG9ydCB0eXBlIEFwcFJvdXRlciA9IHR5cGVvZiBhcHBSb3V0ZXI7ICJdLCJuYW1lcyI6WyJjcmVhdGVUUlBDUm91dGVyIiwiYWlUb29sUm91dGVyIiwiY2F0ZWdvcnlSb3V0ZXIiLCJ1c2VDYXNlUm91dGVyIiwiYXBwUm91dGVyIiwiYWlUb29sIiwiY2F0ZWdvcnkiLCJ1c2VDYXNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./server/api/root.ts\n");

/***/ }),

/***/ "(api)/./server/api/routers/aiTool.ts":
/*!**************************************!*\
  !*** ./server/api/routers/aiTool.ts ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   aiToolRouter: () => (/* binding */ aiToolRouter)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"zod\");\n/* harmony import */ var _trpc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../trpc */ \"(api)/./server/api/trpc.ts\");\n/* harmony import */ var _trpc_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @trpc/server */ \"@trpc/server\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../constants */ \"(api)/./server/constants.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([zod__WEBPACK_IMPORTED_MODULE_0__, _trpc__WEBPACK_IMPORTED_MODULE_1__, _trpc_server__WEBPACK_IMPORTED_MODULE_2__]);\n([zod__WEBPACK_IMPORTED_MODULE_0__, _trpc__WEBPACK_IMPORTED_MODULE_1__, _trpc_server__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\nconst aiToolRouter = (0,_trpc__WEBPACK_IMPORTED_MODULE_1__.createTRPCRouter)({\n    getAll: _trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n        limit: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().min(1).max(100).nullish(),\n        cursor: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().nullish()\n    })).query(async ({ ctx, input })=>{\n        const limit = input.limit ?? 50;\n        const { cursor } = input;\n        const items = await ctx.prisma.aiTool.findMany({\n            take: limit + 1,\n            cursor: cursor ? {\n                id: cursor\n            } : undefined,\n            orderBy: {\n                createdAt: \"desc\"\n            },\n            include: {\n                categories: true\n            }\n        });\n        let nextCursor = undefined;\n        if (items.length > limit) {\n            const nextItem = items.pop();\n            nextCursor = nextItem.id;\n        }\n        return {\n            items,\n            nextCursor\n        };\n    }),\n    getFiltered: _trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n        search: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n        categories: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.string()).optional(),\n        pricingModels: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.string()).optional(),\n        hasFreeVersion: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().optional(),\n        platforms: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.string()).optional(),\n        limit: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().min(1).max(100).optional().default(50),\n        cursor: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional()\n    })).query(async ({ ctx, input })=>{\n        const { search, categories, pricingModels, hasFreeVersion, platforms, limit, cursor } = input;\n        const where = {};\n        if (search && search.trim() !== \"\") {\n            where.OR = [\n                {\n                    name: {\n                        contains: search\n                    }\n                },\n                {\n                    description: {\n                        contains: search\n                    }\n                }\n            ];\n        }\n        if (categories && categories.length > 0) {\n            where.categories = {\n                some: {\n                    slug: {\n                        in: categories\n                    }\n                }\n            };\n        }\n        if (pricingModels && pricingModels.length > 0) {\n            where.pricingModel = {\n                in: pricingModels\n            };\n        }\n        if (hasFreeVersion !== undefined) {\n            where.hasFreeVersion = hasFreeVersion;\n        }\n        if (platforms && platforms.length > 0) {\n            // Chúng ta lưu platforms dưới dạng JSON string, nên cần filter hơi khác\n            where.OR = platforms.map((platform)=>({\n                    platforms: {\n                        contains: platform\n                    }\n                }));\n        }\n        const items = await ctx.prisma.aiTool.findMany({\n            where,\n            take: limit + 1,\n            cursor: cursor ? {\n                id: cursor\n            } : undefined,\n            orderBy: [\n                {\n                    featured: \"desc\"\n                },\n                {\n                    createdAt: \"desc\"\n                }\n            ],\n            include: {\n                categories: {\n                    select: {\n                        name: true,\n                        slug: true\n                    }\n                }\n            }\n        });\n        let nextCursor = undefined;\n        if (items.length > limit) {\n            const nextItem = items.pop();\n            nextCursor = nextItem.id;\n        }\n        return {\n            items,\n            nextCursor\n        };\n    }),\n    getBySlug: _trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n        slug: zod__WEBPACK_IMPORTED_MODULE_0__.z.string()\n    })).query(async ({ ctx, input })=>{\n        const { slug } = input;\n        const tool = await ctx.prisma.aiTool.findUnique({\n            where: {\n                slug\n            },\n            include: {\n                categories: true,\n                useCases: true,\n                reviews: {\n                    include: {\n                        user: {\n                            select: {\n                                id: true,\n                                name: true,\n                                image: true\n                            }\n                        }\n                    },\n                    orderBy: {\n                        createdAt: \"desc\"\n                    }\n                }\n            }\n        });\n        if (!tool) {\n            throw new _trpc_server__WEBPACK_IMPORTED_MODULE_2__.TRPCError({\n                code: \"NOT_FOUND\",\n                message: `Không tìm thấy công cụ với slug '${slug}'`\n            });\n        }\n        // Tăng số lượt xem\n        await ctx.prisma.aiTool.update({\n            where: {\n                id: tool.id\n            },\n            data: {\n                viewCount: {\n                    increment: 1\n                }\n            }\n        });\n        return tool;\n    }),\n    getFeatured: _trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.query(async ({ ctx })=>{\n        return ctx.prisma.aiTool.findMany({\n            where: {\n                featured: true\n            },\n            take: 6,\n            include: {\n                categories: true\n            },\n            orderBy: {\n                viewCount: \"desc\"\n            }\n        });\n    }),\n    searchByName: _trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n        query: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1),\n        limit: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().min(1).max(20).optional().default(5)\n    })).query(async ({ ctx, input })=>{\n        const { query, limit } = input;\n        return ctx.prisma.aiTool.findMany({\n            where: {\n                name: {\n                    contains: query\n                }\n            },\n            take: limit,\n            orderBy: {\n                viewCount: \"desc\"\n            },\n            select: {\n                id: true,\n                name: true,\n                slug: true\n            }\n        });\n    }),\n    // Admin routes\n    create: _trpc__WEBPACK_IMPORTED_MODULE_1__.protectedProcedure.input(zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n        name: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1),\n        slug: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1),\n        description: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1),\n        longDesc: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional(),\n        website: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().url().optional().nullable(),\n        logo: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().url().optional().nullable(),\n        pricingModel: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n        hasFreeVersion: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean(),\n        startingPrice: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().optional().nullable(),\n        featured: zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean().optional(),\n        categoryIds: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.string()),\n        useCaseIds: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.string()).optional(),\n        platforms: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.string()),\n        integrations: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.string()).optional(),\n        launchDate: zod__WEBPACK_IMPORTED_MODULE_0__.z.date().optional().nullable()\n    })).mutation(async ({ ctx, input })=>{\n        const { categoryIds, useCaseIds, platforms, integrations, ...data } = input;\n        // Kiểm tra xem người dùng có quyền admin không\n        if (ctx.session.user.role !== _constants__WEBPACK_IMPORTED_MODULE_3__.ADMIN_ROLE) {\n            throw new _trpc_server__WEBPACK_IMPORTED_MODULE_2__.TRPCError({\n                code: \"FORBIDDEN\",\n                message: \"Chỉ admin mới c\\xf3 thể tạo c\\xf4ng cụ AI\"\n            });\n        }\n        return ctx.prisma.aiTool.create({\n            data: {\n                ...data,\n                platforms: JSON.stringify(platforms),\n                integrations: integrations ? JSON.stringify(integrations) : null,\n                categories: {\n                    connect: categoryIds.map((id)=>({\n                            id\n                        }))\n                },\n                useCases: useCaseIds ? {\n                    connect: useCaseIds.map((id)=>({\n                            id\n                        }))\n                } : undefined\n            }\n        });\n    })\n});\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixLQUFROzRCQUFFQTt3QkFBRztnQkFDeEMsSUFDQUM7WUFDTjtRQUNGO0lBQ0Y7QUFDSixHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktZGlyZWN0b3J5Ly4vc2VydmVyL2FwaS9yb3V0ZXJzL2FpVG9vbC50cz9kNTNjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgeyBjcmVhdGVUUlBDUm91dGVyLCBwdWJsaWNQcm9jZWR1cmUsIHByb3RlY3RlZFByb2NlZHVyZSB9IGZyb20gXCIuLi90cnBjXCI7XG5pbXBvcnQgeyBUUlBDRXJyb3IgfSBmcm9tIFwiQHRycGMvc2VydmVyXCI7XG5pbXBvcnQgeyBBRE1JTl9ST0xFIH0gZnJvbSBcIi4uLy4uL2NvbnN0YW50c1wiO1xuXG5leHBvcnQgY29uc3QgYWlUb29sUm91dGVyID0gY3JlYXRlVFJQQ1JvdXRlcih7XG4gIGdldEFsbDogcHVibGljUHJvY2VkdXJlXG4gICAgLmlucHV0KFxuICAgICAgei5vYmplY3Qoe1xuICAgICAgICBsaW1pdDogei5udW1iZXIoKS5taW4oMSkubWF4KDEwMCkubnVsbGlzaCgpLFxuICAgICAgICBjdXJzb3I6IHouc3RyaW5nKCkubnVsbGlzaCgpLFxuICAgICAgfSlcbiAgICApXG4gICAgLnF1ZXJ5KGFzeW5jICh7IGN0eCwgaW5wdXQgfSkgPT4ge1xuICAgICAgY29uc3QgbGltaXQgPSBpbnB1dC5saW1pdCA/PyA1MDtcbiAgICAgIGNvbnN0IHsgY3Vyc29yIH0gPSBpbnB1dDtcblxuICAgICAgY29uc3QgaXRlbXMgPSBhd2FpdCBjdHgucHJpc21hLmFpVG9vbC5maW5kTWFueSh7XG4gICAgICAgIHRha2U6IGxpbWl0ICsgMSxcbiAgICAgICAgY3Vyc29yOiBjdXJzb3IgPyB7IGlkOiBjdXJzb3IgfSA6IHVuZGVmaW5lZCxcbiAgICAgICAgb3JkZXJCeToge1xuICAgICAgICAgIGNyZWF0ZWRBdDogXCJkZXNjXCIsXG4gICAgICAgIH0sXG4gICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICBjYXRlZ29yaWVzOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGxldCBuZXh0Q3Vyc29yOiB0eXBlb2YgY3Vyc29yIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA+IGxpbWl0KSB7XG4gICAgICAgIGNvbnN0IG5leHRJdGVtID0gaXRlbXMucG9wKCk7XG4gICAgICAgIG5leHRDdXJzb3IgPSBuZXh0SXRlbSEuaWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGl0ZW1zLFxuICAgICAgICBuZXh0Q3Vyc29yLFxuICAgICAgfTtcbiAgICB9KSxcblxuICBnZXRGaWx0ZXJlZDogcHVibGljUHJvY2VkdXJlXG4gICAgLmlucHV0KFxuICAgICAgei5vYmplY3Qoe1xuICAgICAgICBzZWFyY2g6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgY2F0ZWdvcmllczogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgICAgICBwcmljaW5nTW9kZWxzOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gICAgICAgIGhhc0ZyZWVWZXJzaW9uOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgICAgICBwbGF0Zm9ybXM6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgICAgICAgbGltaXQ6IHoubnVtYmVyKCkubWluKDEpLm1heCgxMDApLm9wdGlvbmFsKCkuZGVmYXVsdCg1MCksXG4gICAgICAgIGN1cnNvcjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgfSlcbiAgICApXG4gICAgLnF1ZXJ5KGFzeW5jICh7IGN0eCwgaW5wdXQgfSkgPT4ge1xuICAgICAgY29uc3QgeyBzZWFyY2gsIGNhdGVnb3JpZXMsIHByaWNpbmdNb2RlbHMsIGhhc0ZyZWVWZXJzaW9uLCBwbGF0Zm9ybXMsIGxpbWl0LCBjdXJzb3IgfSA9IGlucHV0O1xuXG4gICAgICBjb25zdCB3aGVyZTogYW55ID0ge307XG5cbiAgICAgIGlmIChzZWFyY2ggJiYgc2VhcmNoLnRyaW0oKSAhPT0gXCJcIikge1xuICAgICAgICB3aGVyZS5PUiA9IFtcbiAgICAgICAgICB7IG5hbWU6IHsgY29udGFpbnM6IHNlYXJjaCB9IH0sXG4gICAgICAgICAgeyBkZXNjcmlwdGlvbjogeyBjb250YWluczogc2VhcmNoIH0gfSxcbiAgICAgICAgXTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNhdGVnb3JpZXMgJiYgY2F0ZWdvcmllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHdoZXJlLmNhdGVnb3JpZXMgPSB7XG4gICAgICAgICAgc29tZToge1xuICAgICAgICAgICAgc2x1ZzogeyBpbjogY2F0ZWdvcmllcyB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChwcmljaW5nTW9kZWxzICYmIHByaWNpbmdNb2RlbHMubGVuZ3RoID4gMCkge1xuICAgICAgICB3aGVyZS5wcmljaW5nTW9kZWwgPSB7IGluOiBwcmljaW5nTW9kZWxzIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChoYXNGcmVlVmVyc2lvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHdoZXJlLmhhc0ZyZWVWZXJzaW9uID0gaGFzRnJlZVZlcnNpb247XG4gICAgICB9XG5cbiAgICAgIGlmIChwbGF0Zm9ybXMgJiYgcGxhdGZvcm1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gQ2jDum5nIHRhIGzGsHUgcGxhdGZvcm1zIGTGsOG7m2kgZOG6oW5nIEpTT04gc3RyaW5nLCBuw6puIGPhuqduIGZpbHRlciBoxqFpIGtow6FjXG4gICAgICAgIHdoZXJlLk9SID0gcGxhdGZvcm1zLm1hcChwbGF0Zm9ybSA9PiAoe1xuICAgICAgICAgIHBsYXRmb3JtczogeyBjb250YWluczogcGxhdGZvcm0gfVxuICAgICAgICB9KSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGl0ZW1zID0gYXdhaXQgY3R4LnByaXNtYS5haVRvb2wuZmluZE1hbnkoe1xuICAgICAgICB3aGVyZSxcbiAgICAgICAgdGFrZTogbGltaXQgKyAxLFxuICAgICAgICBjdXJzb3I6IGN1cnNvciA/IHsgaWQ6IGN1cnNvciB9IDogdW5kZWZpbmVkLFxuICAgICAgICBvcmRlckJ5OiBbXG4gICAgICAgICAgeyBmZWF0dXJlZDogXCJkZXNjXCIgfSxcbiAgICAgICAgICB7IGNyZWF0ZWRBdDogXCJkZXNjXCIgfSxcbiAgICAgICAgXSxcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIGNhdGVnb3JpZXM6IHtcbiAgICAgICAgICAgIHNlbGVjdDogeyBuYW1lOiB0cnVlLCBzbHVnOiB0cnVlIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBsZXQgbmV4dEN1cnNvcjogdHlwZW9mIGN1cnNvciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgIGlmIChpdGVtcy5sZW5ndGggPiBsaW1pdCkge1xuICAgICAgICBjb25zdCBuZXh0SXRlbSA9IGl0ZW1zLnBvcCgpO1xuICAgICAgICBuZXh0Q3Vyc29yID0gbmV4dEl0ZW0hLmlkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpdGVtcyxcbiAgICAgICAgbmV4dEN1cnNvcixcbiAgICAgIH07XG4gICAgfSksXG5cbiAgZ2V0QnlTbHVnOiBwdWJsaWNQcm9jZWR1cmVcbiAgICAuaW5wdXQoei5vYmplY3QoeyBzbHVnOiB6LnN0cmluZygpIH0pKVxuICAgIC5xdWVyeShhc3luYyAoeyBjdHgsIGlucHV0IH0pID0+IHtcbiAgICAgIGNvbnN0IHsgc2x1ZyB9ID0gaW5wdXQ7XG4gICAgICBjb25zdCB0b29sID0gYXdhaXQgY3R4LnByaXNtYS5haVRvb2wuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IHNsdWcgfSxcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIGNhdGVnb3JpZXM6IHRydWUsXG4gICAgICAgICAgdXNlQ2FzZXM6IHRydWUsXG4gICAgICAgICAgcmV2aWV3czoge1xuICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIG5hbWU6IHRydWUsXG4gICAgICAgICAgICAgICAgICBpbWFnZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9yZGVyQnk6IHtcbiAgICAgICAgICAgICAgY3JlYXRlZEF0OiBcImRlc2NcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXRvb2wpIHtcbiAgICAgICAgdGhyb3cgbmV3IFRSUENFcnJvcih7XG4gICAgICAgICAgY29kZTogXCJOT1RfRk9VTkRcIixcbiAgICAgICAgICBtZXNzYWdlOiBgS2jDtG5nIHTDrG0gdGjhuqV5IGPDtG5nIGPhu6UgduG7m2kgc2x1ZyAnJHtzbHVnfSdgLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gVMSDbmcgc+G7kSBsxrDhu6N0IHhlbVxuICAgICAgYXdhaXQgY3R4LnByaXNtYS5haVRvb2wudXBkYXRlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHRvb2wuaWQgfSxcbiAgICAgICAgZGF0YTogeyB2aWV3Q291bnQ6IHsgaW5jcmVtZW50OiAxIH0gfSxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gdG9vbDtcbiAgICB9KSxcblxuICBnZXRGZWF0dXJlZDogcHVibGljUHJvY2VkdXJlLnF1ZXJ5KGFzeW5jICh7IGN0eCB9KSA9PiB7XG4gICAgcmV0dXJuIGN0eC5wcmlzbWEuYWlUb29sLmZpbmRNYW55KHtcbiAgICAgIHdoZXJlOiB7IGZlYXR1cmVkOiB0cnVlIH0sXG4gICAgICB0YWtlOiA2LFxuICAgICAgaW5jbHVkZToge1xuICAgICAgICBjYXRlZ29yaWVzOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIG9yZGVyQnk6IHsgdmlld0NvdW50OiBcImRlc2NcIiB9LFxuICAgIH0pO1xuICB9KSxcblxuICBzZWFyY2hCeU5hbWU6IHB1YmxpY1Byb2NlZHVyZVxuICAgIC5pbnB1dCh6Lm9iamVjdCh7IFxuICAgICAgcXVlcnk6IHouc3RyaW5nKCkubWluKDEpLFxuICAgICAgbGltaXQ6IHoubnVtYmVyKCkubWluKDEpLm1heCgyMCkub3B0aW9uYWwoKS5kZWZhdWx0KDUpXG4gICAgfSkpXG4gICAgLnF1ZXJ5KGFzeW5jICh7IGN0eCwgaW5wdXQgfSkgPT4ge1xuICAgICAgY29uc3QgeyBxdWVyeSwgbGltaXQgfSA9IGlucHV0O1xuICAgICAgcmV0dXJuIGN0eC5wcmlzbWEuYWlUb29sLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICBjb250YWluczogcXVlcnksXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgdGFrZTogbGltaXQsXG4gICAgICAgIG9yZGVyQnk6IHsgdmlld0NvdW50OiBcImRlc2NcIiB9LFxuICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICBuYW1lOiB0cnVlLFxuICAgICAgICAgIHNsdWc6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9KSxcblxuICAvLyBBZG1pbiByb3V0ZXNcbiAgY3JlYXRlOiBwcm90ZWN0ZWRQcm9jZWR1cmVcbiAgICAuaW5wdXQoXG4gICAgICB6Lm9iamVjdCh7XG4gICAgICAgIG5hbWU6IHouc3RyaW5nKCkubWluKDEpLFxuICAgICAgICBzbHVnOiB6LnN0cmluZygpLm1pbigxKSxcbiAgICAgICAgZGVzY3JpcHRpb246IHouc3RyaW5nKCkubWluKDEpLFxuICAgICAgICBsb25nRGVzYzogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICB3ZWJzaXRlOiB6LnN0cmluZygpLnVybCgpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgICAgICAgbG9nbzogei5zdHJpbmcoKS51cmwoKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG4gICAgICAgIHByaWNpbmdNb2RlbDogei5zdHJpbmcoKSxcbiAgICAgICAgaGFzRnJlZVZlcnNpb246IHouYm9vbGVhbigpLFxuICAgICAgICBzdGFydGluZ1ByaWNlOiB6Lm51bWJlcigpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgICAgICAgZmVhdHVyZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgICAgIGNhdGVnb3J5SWRzOiB6LmFycmF5KHouc3RyaW5nKCkpLFxuICAgICAgICB1c2VDYXNlSWRzOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gICAgICAgIHBsYXRmb3Jtczogei5hcnJheSh6LnN0cmluZygpKSxcbiAgICAgICAgaW50ZWdyYXRpb25zOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gICAgICAgIGxhdW5jaERhdGU6IHouZGF0ZSgpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgICAgIH0pXG4gICAgKVxuICAgIC5tdXRhdGlvbihhc3luYyAoeyBjdHgsIGlucHV0IH0pID0+IHtcbiAgICAgIGNvbnN0IHsgY2F0ZWdvcnlJZHMsIHVzZUNhc2VJZHMsIHBsYXRmb3JtcywgaW50ZWdyYXRpb25zLCAuLi5kYXRhIH0gPSBpbnB1dDtcbiAgICAgIFxuICAgICAgLy8gS2nhu4NtIHRyYSB4ZW0gbmfGsOG7nWkgZMO5bmcgY8OzIHF1eeG7gW4gYWRtaW4ga2jDtG5nXG4gICAgICBpZiAoY3R4LnNlc3Npb24udXNlci5yb2xlICE9PSBBRE1JTl9ST0xFKSB7XG4gICAgICAgIHRocm93IG5ldyBUUlBDRXJyb3Ioe1xuICAgICAgICAgIGNvZGU6IFwiRk9SQklEREVOXCIsXG4gICAgICAgICAgbWVzc2FnZTogXCJDaOG7iSBhZG1pbiBt4bubaSBjw7MgdGjhu4MgdOG6oW8gY8O0bmcgY+G7pSBBSVwiLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGN0eC5wcmlzbWEuYWlUb29sLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgIHBsYXRmb3JtczogSlNPTi5zdHJpbmdpZnkocGxhdGZvcm1zKSxcbiAgICAgICAgICBpbnRlZ3JhdGlvbnM6IGludGVncmF0aW9ucyA/IEpTT04uc3RyaW5naWZ5KGludGVncmF0aW9ucykgOiBudWxsLFxuICAgICAgICAgIGNhdGVnb3JpZXM6IHtcbiAgICAgICAgICAgIGNvbm5lY3Q6IGNhdGVnb3J5SWRzLm1hcCgoaWQpID0+ICh7IGlkIH0pKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHVzZUNhc2VzOiB1c2VDYXNlSWRzXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICBjb25uZWN0OiB1c2VDYXNlSWRzLm1hcCgoaWQpID0+ICh7IGlkIH0pKSxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9KSxcbn0pOyAiXSwibmFtZXMiOlsieiIsImNyZWF0ZVRSUENSb3V0ZXIiLCJwdWJsaWNQcm9jZWR1cmUiLCJwcm90ZWN0ZWRQcm9jZWR1cmUiLCJUUlBDRXJyb3IiLCJBRE1JTl9ST0xFIiwiYWlUb29sUm91dGVyIiwiZ2V0QWxsIiwiaW5wdXQiLCJvYmplY3QiLCJsaW1pdCIsIm51bWJlciIsIm1pbiIsIm1heCIsIm51bGxpc2giLCJjdXJzb3IiLCJzdHJpbmciLCJxdWVyeSIsImN0eCIsIml0ZW1zIiwicHJpc21hIiwiYWlUb29sIiwiZmluZE1hbnkiLCJ0YWtlIiwiaWQiLCJ1bmRlZmluZWQiLCJvcmRlckJ5IiwiY3JlYXRlZEF0IiwiaW5jbHVkZSIsImNhdGVnb3JpZXMiLCJuZXh0Q3Vyc29yIiwibGVuZ3RoIiwibmV4dEl0ZW0iLCJwb3AiLCJnZXRGaWx0ZXJlZCIsInNlYXJjaCIsIm9wdGlvbmFsIiwiYXJyYXkiLCJwcmljaW5nTW9kZWxzIiwiaGFzRnJlZVZlcnNpb24iLCJib29sZWFuIiwicGxhdGZvcm1zIiwiZGVmYXVsdCIsIndoZXJlIiwidHJpbSIsIk9SIiwibmFtZSIsImNvbnRhaW5zIiwiZGVzY3JpcHRpb24iLCJzb21lIiwic2x1ZyIsImluIiwicHJpY2luZ01vZGVsIiwibWFwIiwicGxhdGZvcm0iLCJmZWF0dXJlZCIsInNlbGVjdCIsImdldEJ5U2x1ZyIsInRvb2wiLCJmaW5kVW5pcXVlIiwidXNlQ2FzZXMiLCJyZXZpZXdzIiwidXNlciIsImltYWdlIiwiY29kZSIsIm1lc3NhZ2UiLCJ1cGRhdGUiLCJkYXRhIiwidmlld0NvdW50IiwiaW5jcmVtZW50IiwiZ2V0RmVhdHVyZWQiLCJzZWFyY2hCeU5hbWUiLCJjcmVhdGUiLCJsb25nRGVzYyIsIndlYnNpdGUiLCJ1cmwiLCJudWxsYWJsZSIsImxvZ28iLCJzdGFydGluZ1ByaWNlIiwiY2F0ZWdvcnlJZHMiLCJ1c2VDYXNlSWRzIiwiaW50ZWdyYXRpb25zIiwibGF1bmNoRGF0ZSIsImRhdGUiLCJtdXRhdGlvbiIsInNlc3Npb24iLCJyb2xlIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbm5lY3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./server/api/routers/aiTool.ts\n");

/***/ }),

/***/ "(api)/./server/api/routers/category.ts":
/*!****************************************!*\
  !*** ./server/api/routers/category.ts ***!
  \****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   categoryRouter: () => (/* binding */ categoryRouter)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"zod\");\n/* harmony import */ var _trpc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../trpc */ \"(api)/./server/api/trpc.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../constants */ \"(api)/./server/constants.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([zod__WEBPACK_IMPORTED_MODULE_0__, _trpc__WEBPACK_IMPORTED_MODULE_1__]);\n([zod__WEBPACK_IMPORTED_MODULE_0__, _trpc__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst categoryRouter = (0,_trpc__WEBPACK_IMPORTED_MODULE_1__.createTRPCRouter)({\n    getAll: _trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.query(async ({ ctx })=>{\n        return ctx.prisma.category.findMany({\n            orderBy: {\n                name: \"asc\"\n            }\n        });\n    }),\n    getBySlug: _trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n        slug: zod__WEBPACK_IMPORTED_MODULE_0__.z.string()\n    })).query(async ({ ctx, input })=>{\n        const { slug } = input;\n        return ctx.prisma.category.findUnique({\n            where: {\n                slug\n            },\n            include: {\n                aiTools: {\n                    include: {\n                        categories: true\n                    },\n                    take: 20\n                }\n            }\n        });\n    }),\n    create: _trpc__WEBPACK_IMPORTED_MODULE_1__.protectedProcedure.input(zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n        name: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1),\n        slug: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1),\n        description: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional()\n    })).mutation(async ({ ctx, input })=>{\n        if (ctx.session.user.role !== _constants__WEBPACK_IMPORTED_MODULE_2__.ADMIN_ROLE) {\n            throw new Error(\"Unauthorized: Only admins can create categories\");\n        }\n        return ctx.prisma.category.create({\n            data: input\n        });\n    })\n});\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2ZXIvYXBpL3JvdXRlcnMvY2F0ZWdvcnkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUF3QjtBQUN3RDtBQUNuQztBQUV0QyxNQUFNSyxpQkFBaUJKLHVEQUFnQkEsQ0FBQztJQUM3Q0ssUUFBUUosa0RBQWVBLENBQUNLLEtBQUssQ0FBQyxPQUFPLEVBQUVDLEdBQUcsRUFBRTtRQUMxQyxPQUFPQSxJQUFJQyxNQUFNLENBQUNDLFFBQVEsQ0FBQ0MsUUFBUSxDQUFDO1lBQ2xDQyxTQUFTO2dCQUFFQyxNQUFNO1lBQU07UUFDekI7SUFDRjtJQUVBQyxXQUFXWixrREFBZUEsQ0FDdkJhLEtBQUssQ0FBQ2Ysa0NBQUNBLENBQUNnQixNQUFNLENBQUM7UUFBRUMsTUFBTWpCLGtDQUFDQSxDQUFDa0IsTUFBTTtJQUFHLElBQ2xDWCxLQUFLLENBQUMsT0FBTyxFQUFFQyxHQUFHLEVBQUVPLEtBQUssRUFBRTtRQUMxQixNQUFNLEVBQUVFLElBQUksRUFBRSxHQUFHRjtRQUNqQixPQUFPUCxJQUFJQyxNQUFNLENBQUNDLFFBQVEsQ0FBQ1MsVUFBVSxDQUFDO1lBQ3BDQyxPQUFPO2dCQUFFSDtZQUFLO1lBQ2RJLFNBQVM7Z0JBQ1BDLFNBQVM7b0JBQ1BELFNBQVM7d0JBQ1BFLFlBQVk7b0JBQ2Q7b0JBQ0FDLE1BQU07Z0JBQ1I7WUFDRjtRQUNGO0lBQ0Y7SUFFRkMsUUFBUXRCLHFEQUFrQkEsQ0FDdkJZLEtBQUssQ0FBQ2Ysa0NBQUNBLENBQUNnQixNQUFNLENBQUM7UUFDZEgsTUFBTWIsa0NBQUNBLENBQUNrQixNQUFNLEdBQUdRLEdBQUcsQ0FBQztRQUNyQlQsTUFBTWpCLGtDQUFDQSxDQUFDa0IsTUFBTSxHQUFHUSxHQUFHLENBQUM7UUFDckJDLGFBQWEzQixrQ0FBQ0EsQ0FBQ2tCLE1BQU0sR0FBR1UsUUFBUTtJQUNsQyxJQUNDQyxRQUFRLENBQUMsT0FBTyxFQUFFckIsR0FBRyxFQUFFTyxLQUFLLEVBQUU7UUFDN0IsSUFBSVAsSUFBSXNCLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDQyxJQUFJLEtBQUs1QixrREFBVUEsRUFBRTtZQUN4QyxNQUFNLElBQUk2QixNQUFNO1FBQ2xCO1FBRUEsT0FBT3pCLElBQUlDLE1BQU0sQ0FBQ0MsUUFBUSxDQUFDZSxNQUFNLENBQUM7WUFDaENTLE1BQU1uQjtRQUNSO0lBQ0Y7QUFDSixHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktZGlyZWN0b3J5Ly4vc2VydmVyL2FwaS9yb3V0ZXJzL2NhdGVnb3J5LnRzPzNhOWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcbmltcG9ydCB7IGNyZWF0ZVRSUENSb3V0ZXIsIHB1YmxpY1Byb2NlZHVyZSwgcHJvdGVjdGVkUHJvY2VkdXJlIH0gZnJvbSBcIi4uL3RycGNcIjtcbmltcG9ydCB7IEFETUlOX1JPTEUgfSBmcm9tIFwiLi4vLi4vY29uc3RhbnRzXCI7XG5cbmV4cG9ydCBjb25zdCBjYXRlZ29yeVJvdXRlciA9IGNyZWF0ZVRSUENSb3V0ZXIoe1xuICBnZXRBbGw6IHB1YmxpY1Byb2NlZHVyZS5xdWVyeShhc3luYyAoeyBjdHggfSkgPT4ge1xuICAgIHJldHVybiBjdHgucHJpc21hLmNhdGVnb3J5LmZpbmRNYW55KHtcbiAgICAgIG9yZGVyQnk6IHsgbmFtZTogXCJhc2NcIiB9LFxuICAgIH0pO1xuICB9KSxcblxuICBnZXRCeVNsdWc6IHB1YmxpY1Byb2NlZHVyZVxuICAgIC5pbnB1dCh6Lm9iamVjdCh7IHNsdWc6IHouc3RyaW5nKCkgfSkpXG4gICAgLnF1ZXJ5KGFzeW5jICh7IGN0eCwgaW5wdXQgfSkgPT4ge1xuICAgICAgY29uc3QgeyBzbHVnIH0gPSBpbnB1dDtcbiAgICAgIHJldHVybiBjdHgucHJpc21hLmNhdGVnb3J5LmZpbmRVbmlxdWUoe1xuICAgICAgICB3aGVyZTogeyBzbHVnIH0sXG4gICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICBhaVRvb2xzOiB7XG4gICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgIGNhdGVnb3JpZXM6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGFrZTogMjAsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0pLFxuXG4gIGNyZWF0ZTogcHJvdGVjdGVkUHJvY2VkdXJlXG4gICAgLmlucHV0KHoub2JqZWN0KHtcbiAgICAgIG5hbWU6IHouc3RyaW5nKCkubWluKDEpLFxuICAgICAgc2x1Zzogei5zdHJpbmcoKS5taW4oMSksXG4gICAgICBkZXNjcmlwdGlvbjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIH0pKVxuICAgIC5tdXRhdGlvbihhc3luYyAoeyBjdHgsIGlucHV0IH0pID0+IHtcbiAgICAgIGlmIChjdHguc2Vzc2lvbi51c2VyLnJvbGUgIT09IEFETUlOX1JPTEUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hdXRob3JpemVkOiBPbmx5IGFkbWlucyBjYW4gY3JlYXRlIGNhdGVnb3JpZXNcIik7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBjdHgucHJpc21hLmNhdGVnb3J5LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IGlucHV0LFxuICAgICAgfSk7XG4gICAgfSksXG59KTsgIl0sIm5hbWVzIjpbInoiLCJjcmVhdGVUUlBDUm91dGVyIiwicHVibGljUHJvY2VkdXJlIiwicHJvdGVjdGVkUHJvY2VkdXJlIiwiQURNSU5fUk9MRSIsImNhdGVnb3J5Um91dGVyIiwiZ2V0QWxsIiwicXVlcnkiLCJjdHgiLCJwcmlzbWEiLCJjYXRlZ29yeSIsImZpbmRNYW55Iiwib3JkZXJCeSIsIm5hbWUiLCJnZXRCeVNsdWciLCJpbnB1dCIsIm9iamVjdCIsInNsdWciLCJzdHJpbmciLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpbmNsdWRlIiwiYWlUb29scyIsImNhdGVnb3JpZXMiLCJ0YWtlIiwiY3JlYXRlIiwibWluIiwiZGVzY3JpcHRpb24iLCJvcHRpb25hbCIsIm11dGF0aW9uIiwic2Vzc2lvbiIsInVzZXIiLCJyb2xlIiwiRXJyb3IiLCJkYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./server/api/routers/category.ts\n");

/***/ }),

/***/ "(api)/./server/api/routers/useCase.ts":
/*!***************************************!*\
  !*** ./server/api/routers/useCase.ts ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCaseRouter: () => (/* binding */ useCaseRouter)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"zod\");\n/* harmony import */ var _trpc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../trpc */ \"(api)/./server/api/trpc.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../constants */ \"(api)/./server/constants.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([zod__WEBPACK_IMPORTED_MODULE_0__, _trpc__WEBPACK_IMPORTED_MODULE_1__]);\n([zod__WEBPACK_IMPORTED_MODULE_0__, _trpc__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst useCaseRouter = (0,_trpc__WEBPACK_IMPORTED_MODULE_1__.createTRPCRouter)({\n    getAll: _trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.query(async ({ ctx })=>{\n        return ctx.prisma.useCase.findMany({\n            orderBy: {\n                name: \"asc\"\n            }\n        });\n    }),\n    getBySlug: _trpc__WEBPACK_IMPORTED_MODULE_1__.publicProcedure.input(zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n        slug: zod__WEBPACK_IMPORTED_MODULE_0__.z.string()\n    })).query(async ({ ctx, input })=>{\n        const { slug } = input;\n        return ctx.prisma.useCase.findUnique({\n            where: {\n                slug\n            },\n            include: {\n                aiTools: {\n                    include: {\n                        categories: true\n                    },\n                    take: 20\n                }\n            }\n        });\n    }),\n    create: _trpc__WEBPACK_IMPORTED_MODULE_1__.protectedProcedure.input(zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n        name: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1),\n        slug: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1),\n        description: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().optional()\n    })).mutation(async ({ ctx, input })=>{\n        if (ctx.session.user.role !== _constants__WEBPACK_IMPORTED_MODULE_2__.ADMIN_ROLE) {\n            throw new Error(\"Unauthorized: Only admins can create use cases\");\n        }\n        return ctx.prisma.useCase.create({\n            data: input\n        });\n    })\n});\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2ZXIvYXBpL3JvdXRlcnMvdXNlQ2FzZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXdCO0FBQ3dEO0FBQ25DO0FBRXRDLE1BQU1LLGdCQUFnQkosdURBQWdCQSxDQUFDO0lBQzVDSyxRQUFRSixrREFBZUEsQ0FBQ0ssS0FBSyxDQUFDLE9BQU8sRUFBRUMsR0FBRyxFQUFFO1FBQzFDLE9BQU9BLElBQUlDLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDQyxRQUFRLENBQUM7WUFDakNDLFNBQVM7Z0JBQUVDLE1BQU07WUFBTTtRQUN6QjtJQUNGO0lBRUFDLFdBQVdaLGtEQUFlQSxDQUN2QmEsS0FBSyxDQUFDZixrQ0FBQ0EsQ0FBQ2dCLE1BQU0sQ0FBQztRQUFFQyxNQUFNakIsa0NBQUNBLENBQUNrQixNQUFNO0lBQUcsSUFDbENYLEtBQUssQ0FBQyxPQUFPLEVBQUVDLEdBQUcsRUFBRU8sS0FBSyxFQUFFO1FBQzFCLE1BQU0sRUFBRUUsSUFBSSxFQUFFLEdBQUdGO1FBQ2pCLE9BQU9QLElBQUlDLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDUyxVQUFVLENBQUM7WUFDbkNDLE9BQU87Z0JBQUVIO1lBQUs7WUFDZEksU0FBUztnQkFDUEMsU0FBUztvQkFDUEQsU0FBUzt3QkFDUEUsWUFBWTtvQkFDZDtvQkFDQUMsTUFBTTtnQkFDUjtZQUNGO1FBQ0Y7SUFDRjtJQUVGQyxRQUFRdEIscURBQWtCQSxDQUN2QlksS0FBSyxDQUFDZixrQ0FBQ0EsQ0FBQ2dCLE1BQU0sQ0FBQztRQUNkSCxNQUFNYixrQ0FBQ0EsQ0FBQ2tCLE1BQU0sR0FBR1EsR0FBRyxDQUFDO1FBQ3JCVCxNQUFNakIsa0NBQUNBLENBQUNrQixNQUFNLEdBQUdRLEdBQUcsQ0FBQztRQUNyQkMsYUFBYTNCLGtDQUFDQSxDQUFDa0IsTUFBTSxHQUFHVSxRQUFRO0lBQ2xDLElBQ0NDLFFBQVEsQ0FBQyxPQUFPLEVBQUVyQixHQUFHLEVBQUVPLEtBQUssRUFBRTtRQUM3QixJQUFJUCxJQUFJc0IsT0FBTyxDQUFDQyxJQUFJLENBQUNDLElBQUksS0FBSzVCLGtEQUFVQSxFQUFFO1lBQ3hDLE1BQU0sSUFBSTZCLE1BQU07UUFDbEI7UUFFQSxPQUFPekIsSUFBSUMsTUFBTSxDQUFDQyxPQUFPLENBQUNlLE1BQU0sQ0FBQztZQUMvQlMsTUFBTW5CO1FBQ1I7SUFDRjtBQUNKLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS1kaXJlY3RvcnkvLi9zZXJ2ZXIvYXBpL3JvdXRlcnMvdXNlQ2FzZS50cz83OTc3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgeyBjcmVhdGVUUlBDUm91dGVyLCBwdWJsaWNQcm9jZWR1cmUsIHByb3RlY3RlZFByb2NlZHVyZSB9IGZyb20gXCIuLi90cnBjXCI7XG5pbXBvcnQgeyBBRE1JTl9ST0xFIH0gZnJvbSBcIi4uLy4uL2NvbnN0YW50c1wiO1xuXG5leHBvcnQgY29uc3QgdXNlQ2FzZVJvdXRlciA9IGNyZWF0ZVRSUENSb3V0ZXIoe1xuICBnZXRBbGw6IHB1YmxpY1Byb2NlZHVyZS5xdWVyeShhc3luYyAoeyBjdHggfSkgPT4ge1xuICAgIHJldHVybiBjdHgucHJpc21hLnVzZUNhc2UuZmluZE1hbnkoe1xuICAgICAgb3JkZXJCeTogeyBuYW1lOiBcImFzY1wiIH0sXG4gICAgfSk7XG4gIH0pLFxuXG4gIGdldEJ5U2x1ZzogcHVibGljUHJvY2VkdXJlXG4gICAgLmlucHV0KHoub2JqZWN0KHsgc2x1Zzogei5zdHJpbmcoKSB9KSlcbiAgICAucXVlcnkoYXN5bmMgKHsgY3R4LCBpbnB1dCB9KSA9PiB7XG4gICAgICBjb25zdCB7IHNsdWcgfSA9IGlucHV0O1xuICAgICAgcmV0dXJuIGN0eC5wcmlzbWEudXNlQ2FzZS5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgc2x1ZyB9LFxuICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgYWlUb29sczoge1xuICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICBjYXRlZ29yaWVzOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRha2U6IDIwLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9KSxcblxuICBjcmVhdGU6IHByb3RlY3RlZFByb2NlZHVyZVxuICAgIC5pbnB1dCh6Lm9iamVjdCh7XG4gICAgICBuYW1lOiB6LnN0cmluZygpLm1pbigxKSxcbiAgICAgIHNsdWc6IHouc3RyaW5nKCkubWluKDEpLFxuICAgICAgZGVzY3JpcHRpb246IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICB9KSlcbiAgICAubXV0YXRpb24oYXN5bmMgKHsgY3R4LCBpbnB1dCB9KSA9PiB7XG4gICAgICBpZiAoY3R4LnNlc3Npb24udXNlci5yb2xlICE9PSBBRE1JTl9ST0xFKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYXV0aG9yaXplZDogT25seSBhZG1pbnMgY2FuIGNyZWF0ZSB1c2UgY2FzZXNcIik7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBjdHgucHJpc21hLnVzZUNhc2UuY3JlYXRlKHtcbiAgICAgICAgZGF0YTogaW5wdXQsXG4gICAgICB9KTtcbiAgICB9KSxcbn0pOyAiXSwibmFtZXMiOlsieiIsImNyZWF0ZVRSUENSb3V0ZXIiLCJwdWJsaWNQcm9jZWR1cmUiLCJwcm90ZWN0ZWRQcm9jZWR1cmUiLCJBRE1JTl9ST0xFIiwidXNlQ2FzZVJvdXRlciIsImdldEFsbCIsInF1ZXJ5IiwiY3R4IiwicHJpc21hIiwidXNlQ2FzZSIsImZpbmRNYW55Iiwib3JkZXJCeSIsIm5hbWUiLCJnZXRCeVNsdWciLCJpbnB1dCIsIm9iamVjdCIsInNsdWciLCJzdHJpbmciLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpbmNsdWRlIiwiYWlUb29scyIsImNhdGVnb3JpZXMiLCJ0YWtlIiwiY3JlYXRlIiwibWluIiwiZGVzY3JpcHRpb24iLCJvcHRpb25hbCIsIm11dGF0aW9uIiwic2Vzc2lvbiIsInVzZXIiLCJyb2xlIiwiRXJyb3IiLCJkYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./server/api/routers/useCase.ts\n");

/***/ }),

/***/ "(api)/./server/api/trpc.ts":
/*!****************************!*\
  !*** ./server/api/trpc.ts ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createTRPCContext: () => (/* binding */ createTRPCContext),\n/* harmony export */   createTRPCRouter: () => (/* binding */ createTRPCRouter),\n/* harmony export */   protectedProcedure: () => (/* binding */ protectedProcedure),\n/* harmony export */   publicProcedure: () => (/* binding */ publicProcedure),\n/* harmony export */   router: () => (/* binding */ router)\n/* harmony export */ });\n/* harmony import */ var _trpc_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @trpc/server */ \"@trpc/server\");\n/* harmony import */ var superjson__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! superjson */ \"superjson\");\n/* harmony import */ var superjson__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(superjson__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/next */ \"next-auth/next\");\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_auth_next__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../db */ \"(api)/./server/db.ts\");\n/* harmony import */ var _pages_api_auth_nextauth___WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../pages/api/auth/[...nextauth] */ \"(api)/./pages/api/auth/[...nextauth].ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_trpc_server__WEBPACK_IMPORTED_MODULE_0__]);\n_trpc_server__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n/**\n * Tạo context cho tRPC\n */ const createTRPCContext = async (opts)=>{\n    const { req, res } = opts;\n    const session = await (0,next_auth_next__WEBPACK_IMPORTED_MODULE_2__.getServerSession)(req, res, _pages_api_auth_nextauth___WEBPACK_IMPORTED_MODULE_4__.authOptions);\n    return {\n        prisma: _db__WEBPACK_IMPORTED_MODULE_3__.prisma,\n        session\n    };\n};\n/**\n * Khởi tạo tRPC API\n */ const t = _trpc_server__WEBPACK_IMPORTED_MODULE_0__.initTRPC.context().create({\n    transformer: (superjson__WEBPACK_IMPORTED_MODULE_1___default()),\n    errorFormatter ({ shape }) {\n        return shape;\n    }\n});\n/**\n * tRPC router và procedure helpers\n */ const createTRPCRouter = t.router;\nconst router = t.router;\nconst publicProcedure = t.procedure;\n/**\n * Middleware xác thực\n */ const isAuthed = t.middleware(({ ctx, next })=>{\n    if (!ctx.session || !ctx.session.user) {\n        throw new _trpc_server__WEBPACK_IMPORTED_MODULE_0__.TRPCError({\n            code: \"UNAUTHORIZED\"\n        });\n    }\n    return next({\n        ctx: {\n            ...ctx,\n            session: {\n                ...ctx.session,\n                user: ctx.session.user\n            }\n        }\n    });\n});\nconst protectedProcedure = t.procedure.use(isAuthed);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2ZXIvYXBpL3RycGMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW1EO0FBRWpCO0FBQ2dCO0FBRW5CO0FBQ2tDO0FBRWpFOztDQUVDLEdBQ00sTUFBTU0sb0JBQW9CLE9BQU9DO0lBQ3RDLE1BQU0sRUFBRUMsR0FBRyxFQUFFQyxHQUFHLEVBQUUsR0FBR0Y7SUFDckIsTUFBTUcsVUFBVSxNQUFNUCxnRUFBZ0JBLENBQUNLLEtBQUtDLEtBQUtKLGtFQUFXQTtJQUU1RCxPQUFPO1FBQ0xELE1BQU1BLHlDQUFBQTtRQUNOTTtJQUNGO0FBQ0YsRUFBRTtBQUVGOztDQUVDLEdBQ0QsTUFBTUMsSUFBSVgsa0RBQVFBLENBQUNZLE9BQU8sR0FBNkJDLE1BQU0sQ0FBQztJQUM1REMsYUFBYVosa0RBQVNBO0lBQ3RCYSxnQkFBZSxFQUFFQyxLQUFLLEVBQUU7UUFDdEIsT0FBT0E7SUFDVDtBQUNGO0FBRUE7O0NBRUMsR0FDTSxNQUFNQyxtQkFBbUJOLEVBQUVPLE1BQU0sQ0FBQztBQUNsQyxNQUFNQSxTQUFTUCxFQUFFTyxNQUFNLENBQUM7QUFDeEIsTUFBTUMsa0JBQWtCUixFQUFFUyxTQUFTLENBQUM7QUFFM0M7O0NBRUMsR0FDRCxNQUFNQyxXQUFXVixFQUFFVyxVQUFVLENBQUMsQ0FBQyxFQUFFQyxHQUFHLEVBQUVDLElBQUksRUFBRTtJQUMxQyxJQUFJLENBQUNELElBQUliLE9BQU8sSUFBSSxDQUFDYSxJQUFJYixPQUFPLENBQUNlLElBQUksRUFBRTtRQUNyQyxNQUFNLElBQUl4QixtREFBU0EsQ0FBQztZQUFFeUIsTUFBTTtRQUFlO0lBQzdDO0lBQ0EsT0FBT0YsS0FBSztRQUNWRCxLQUFLO1lBQ0gsR0FBR0EsR0FBRztZQUNOYixTQUFTO2dCQUFFLEdBQUdhLElBQUliLE9BQU87Z0JBQUVlLE1BQU1GLElBQUliLE9BQU8sQ0FBQ2UsSUFBSTtZQUFDO1FBQ3BEO0lBQ0Y7QUFDRjtBQUVPLE1BQU1FLHFCQUFxQmhCLEVBQUVTLFNBQVMsQ0FBQ1EsR0FBRyxDQUFDUCxVQUFVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktZGlyZWN0b3J5Ly4vc2VydmVyL2FwaS90cnBjLnRzPzEyMmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5pdFRSUEMsIFRSUENFcnJvciB9IGZyb20gXCJAdHJwYy9zZXJ2ZXJcIjtcbmltcG9ydCB7IHR5cGUgQ3JlYXRlTmV4dENvbnRleHRPcHRpb25zIH0gZnJvbSBcIkB0cnBjL3NlcnZlci9hZGFwdGVycy9uZXh0XCI7XG5pbXBvcnQgc3VwZXJqc29uIGZyb20gXCJzdXBlcmpzb25cIjtcbmltcG9ydCB7IGdldFNlcnZlclNlc3Npb24gfSBmcm9tIFwibmV4dC1hdXRoL25leHRcIjtcblxuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4uL2RiXCI7XG5pbXBvcnQgeyBhdXRoT3B0aW9ucyB9IGZyb20gXCIuLi8uLi9wYWdlcy9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdXCI7XG5cbi8qKlxuICogVOG6oW8gY29udGV4dCBjaG8gdFJQQ1xuICovXG5leHBvcnQgY29uc3QgY3JlYXRlVFJQQ0NvbnRleHQgPSBhc3luYyAob3B0czogQ3JlYXRlTmV4dENvbnRleHRPcHRpb25zKSA9PiB7XG4gIGNvbnN0IHsgcmVxLCByZXMgfSA9IG9wdHM7XG4gIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXJ2ZXJTZXNzaW9uKHJlcSwgcmVzLCBhdXRoT3B0aW9ucyk7XG5cbiAgcmV0dXJuIHtcbiAgICBwcmlzbWEsXG4gICAgc2Vzc2lvbixcbiAgfTtcbn07XG5cbi8qKlxuICogS2jhu59pIHThuqFvIHRSUEMgQVBJXG4gKi9cbmNvbnN0IHQgPSBpbml0VFJQQy5jb250ZXh0PHR5cGVvZiBjcmVhdGVUUlBDQ29udGV4dD4oKS5jcmVhdGUoe1xuICB0cmFuc2Zvcm1lcjogc3VwZXJqc29uLFxuICBlcnJvckZvcm1hdHRlcih7IHNoYXBlIH0pIHtcbiAgICByZXR1cm4gc2hhcGU7XG4gIH0sXG59KTtcblxuLyoqXG4gKiB0UlBDIHJvdXRlciB2w6AgcHJvY2VkdXJlIGhlbHBlcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVRSUENSb3V0ZXIgPSB0LnJvdXRlcjtcbmV4cG9ydCBjb25zdCByb3V0ZXIgPSB0LnJvdXRlcjtcbmV4cG9ydCBjb25zdCBwdWJsaWNQcm9jZWR1cmUgPSB0LnByb2NlZHVyZTtcblxuLyoqXG4gKiBNaWRkbGV3YXJlIHjDoWMgdGjhu7FjXG4gKi9cbmNvbnN0IGlzQXV0aGVkID0gdC5taWRkbGV3YXJlKCh7IGN0eCwgbmV4dCB9KSA9PiB7XG4gIGlmICghY3R4LnNlc3Npb24gfHwgIWN0eC5zZXNzaW9uLnVzZXIpIHtcbiAgICB0aHJvdyBuZXcgVFJQQ0Vycm9yKHsgY29kZTogXCJVTkFVVEhPUklaRURcIiB9KTtcbiAgfVxuICByZXR1cm4gbmV4dCh7XG4gICAgY3R4OiB7XG4gICAgICAuLi5jdHgsXG4gICAgICBzZXNzaW9uOiB7IC4uLmN0eC5zZXNzaW9uLCB1c2VyOiBjdHguc2Vzc2lvbi51c2VyIH0sXG4gICAgfSxcbiAgfSk7XG59KTtcblxuZXhwb3J0IGNvbnN0IHByb3RlY3RlZFByb2NlZHVyZSA9IHQucHJvY2VkdXJlLnVzZShpc0F1dGhlZCk7ICJdLCJuYW1lcyI6WyJpbml0VFJQQyIsIlRSUENFcnJvciIsInN1cGVyanNvbiIsImdldFNlcnZlclNlc3Npb24iLCJwcmlzbWEiLCJhdXRoT3B0aW9ucyIsImNyZWF0ZVRSUENDb250ZXh0Iiwib3B0cyIsInJlcSIsInJlcyIsInNlc3Npb24iLCJ0IiwiY29udGV4dCIsImNyZWF0ZSIsInRyYW5zZm9ybWVyIiwiZXJyb3JGb3JtYXR0ZXIiLCJzaGFwZSIsImNyZWF0ZVRSUENSb3V0ZXIiLCJyb3V0ZXIiLCJwdWJsaWNQcm9jZWR1cmUiLCJwcm9jZWR1cmUiLCJpc0F1dGhlZCIsIm1pZGRsZXdhcmUiLCJjdHgiLCJuZXh0IiwidXNlciIsImNvZGUiLCJwcm90ZWN0ZWRQcm9jZWR1cmUiLCJ1c2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./server/api/trpc.ts\n");

/***/ }),

/***/ "(api)/./server/constants.ts":
/*!*****************************!*\
  !*** ./server/constants.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ADMIN_ROLE: () => (/* binding */ ADMIN_ROLE),\n/* harmony export */   PLATFORMS: () => (/* binding */ PLATFORMS),\n/* harmony export */   PRICING_MODELS: () => (/* binding */ PRICING_MODELS),\n/* harmony export */   USER_ROLE: () => (/* binding */ USER_ROLE)\n/* harmony export */ });\n// Định nghĩa các role constants để sử dụng trong toàn bộ ứng dụng\nconst USER_ROLE = \"USER\";\nconst ADMIN_ROLE = \"ADMIN\";\n// Các mô hình giá\nconst PRICING_MODELS = {\n    FREE: \"FREE\",\n    FREEMIUM: \"FREEMIUM\",\n    PAID: \"PAID\",\n    SUBSCRIPTION: \"SUBSCRIPTION\",\n    CONTACT_FOR_PRICING: \"CONTACT_FOR_PRICING\"\n};\n// Các nền tảng\nconst PLATFORMS = {\n    WEB: \"WEB\",\n    DESKTOP: \"DESKTOP\",\n    MOBILE: \"MOBILE\",\n    API: \"API\",\n    EXTENSION: \"EXTENSION\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2ZXIvY29uc3RhbnRzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxrRUFBa0U7QUFDM0QsTUFBTUEsWUFBWSxPQUFPO0FBQ3pCLE1BQU1DLGFBQWEsUUFBUTtBQUVsQyxrQkFBa0I7QUFDWCxNQUFNQyxpQkFBaUI7SUFDNUJDLE1BQU07SUFDTkMsVUFBVTtJQUNWQyxNQUFNO0lBQ05DLGNBQWM7SUFDZEMscUJBQXFCO0FBQ3ZCLEVBQUU7QUFFRixlQUFlO0FBQ1IsTUFBTUMsWUFBWTtJQUN2QkMsS0FBSztJQUNMQyxTQUFTO0lBQ1RDLFFBQVE7SUFDUkMsS0FBSztJQUNMQyxXQUFXO0FBQ2IsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLWRpcmVjdG9yeS8uL3NlcnZlci9jb25zdGFudHMudHM/ZDQ3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyDEkOG7i25oIG5naMSpYSBjw6FjIHJvbGUgY29uc3RhbnRzIMSR4buDIHPhu60gZOG7pW5nIHRyb25nIHRvw6BuIGLhu5kg4bupbmcgZOG7pW5nXG5leHBvcnQgY29uc3QgVVNFUl9ST0xFID0gXCJVU0VSXCI7XG5leHBvcnQgY29uc3QgQURNSU5fUk9MRSA9IFwiQURNSU5cIjtcblxuLy8gQ8OhYyBtw7QgaMOsbmggZ2nDoVxuZXhwb3J0IGNvbnN0IFBSSUNJTkdfTU9ERUxTID0ge1xuICBGUkVFOiBcIkZSRUVcIixcbiAgRlJFRU1JVU06IFwiRlJFRU1JVU1cIixcbiAgUEFJRDogXCJQQUlEXCIsXG4gIFNVQlNDUklQVElPTjogXCJTVUJTQ1JJUFRJT05cIixcbiAgQ09OVEFDVF9GT1JfUFJJQ0lORzogXCJDT05UQUNUX0ZPUl9QUklDSU5HXCJcbn07XG5cbi8vIEPDoWMgbuG7gW4gdOG6o25nXG5leHBvcnQgY29uc3QgUExBVEZPUk1TID0ge1xuICBXRUI6IFwiV0VCXCIsXG4gIERFU0tUT1A6IFwiREVTS1RPUFwiLFxuICBNT0JJTEU6IFwiTU9CSUxFXCIsIFxuICBBUEk6IFwiQVBJXCIsXG4gIEVYVEVOU0lPTjogXCJFWFRFTlNJT05cIlxufTsgIl0sIm5hbWVzIjpbIlVTRVJfUk9MRSIsIkFETUlOX1JPTEUiLCJQUklDSU5HX01PREVMUyIsIkZSRUUiLCJGUkVFTUlVTSIsIlBBSUQiLCJTVUJTQ1JJUFRJT04iLCJDT05UQUNUX0ZPUl9QUklDSU5HIiwiUExBVEZPUk1TIiwiV0VCIiwiREVTS1RPUCIsIk1PQklMRSIsIkFQSSIsIkVYVEVOU0lPTiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./server/constants.ts\n");

/***/ }),

/***/ "(api)/./server/db.ts":
/*!**********************!*\
  !*** ./server/db.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    log:  true ? [\n        \"query\",\n        \"error\",\n        \"warn\"\n    ] : 0\n});\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zZXJ2ZXIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThDO0FBRTlDLE1BQU1DLGtCQUFrQkM7QUFJakIsTUFBTUMsU0FDWEYsZ0JBQWdCRSxNQUFNLElBQ3RCLElBQUlILHdEQUFZQSxDQUFDO0lBQ2ZJLEtBQUtDLEtBQXNDLEdBQUc7UUFBQztRQUFTO1FBQVM7S0FBTyxHQUFHLENBQVM7QUFDdEYsR0FBRztBQUVMLElBQUlBLElBQXFDLEVBQUVKLGdCQUFnQkUsTUFBTSxHQUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLWRpcmVjdG9yeS8uL3NlcnZlci9kYi50cz9iZTYyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gXCJAcHJpc21hL2NsaWVudFwiO1xuXG5jb25zdCBnbG9iYWxGb3JQcmlzbWEgPSBnbG9iYWxUaGlzIGFzIHVua25vd24gYXMge1xuICBwcmlzbWE6IFByaXNtYUNsaWVudCB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCBjb25zdCBwcmlzbWEgPVxuICBnbG9iYWxGb3JQcmlzbWEucHJpc21hID8/XG4gIG5ldyBQcmlzbWFDbGllbnQoe1xuICAgIGxvZzogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIiA/IFtcInF1ZXJ5XCIsIFwiZXJyb3JcIiwgXCJ3YXJuXCJdIDogW1wiZXJyb3JcIl0sXG4gIH0pO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID0gcHJpc21hOyAiXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwiZ2xvYmFsRm9yUHJpc21hIiwiZ2xvYmFsVGhpcyIsInByaXNtYSIsImxvZyIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./server/db.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ftrpc%2F%5Btrpc%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Ftrpc%2F%5Btrpc%5D.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();